// Generated by CoffeeScript 1.7.1
(function() {
  window.offset_pos = function(i, offset) {
    return (i + offset) % 6;
  };

  window.opp_pos = function(i) {
    return offset_pos(i, 3);
  };

  window.next_pos = function(i) {
    return offset_pos(i, 1);
  };

  window.prev_pos = function(i) {
    return offset_pos(i, 5);
  };

  window.hex_type = function(hex) {
    if (hex) {
      return hex.type;
    } else {
      return hex;
    }
  };

  window.stats = {
    calculate_yields: function() {
      var binned_hexes, hexes_by_resource;
      $('#resource-yields tbody').empty();
      hexes_by_resource = _.map(RESOURCES, function(resource) {
        return _.filter(game.hexes, function(hex) {
          return hex.type === resource;
        });
      });
      binned_hexes = _.object(RESOURCES, hexes_by_resource);
      return _.each(binned_hexes, function(v, k) {
        var dot_count, hex_count, resource_name, row, total_dots;
        total_dots = _.reduce(v, function(memo, hex) {
          return memo + hex.dots;
        }, 0);
        row = $('<tr>');
        resource_name = $('<td>').text(k).appendTo(row);
        hex_count = $('<td>').text(v.length).appendTo(row);
        dot_count = $('<td>').text(total_dots).appendTo(row);
        return row.appendTo($('#resource-yields tbody'));
      });
    }
  };

  window.bank = {
    sheep: RESOURCE_MAX,
    wheat: RESOURCE_MAX,
    brick: RESOURCE_MAX,
    wood: RESOURCE_MAX,
    ore: RESOURCE_MAX
  };

  window.log = {
    msg: function(content) {
      var new_msg;
      return new_msg = $('<li>').addClass('log-msg').html(content).appendTo($('#log-msgs'));
    }
  };

}).call(this);
